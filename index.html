<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>โปรแกรมสุ่มหัวก้อย (Coin Flip)</title>
    <!-- Google Fonts: Sarabun (Formal Thai Font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Sarabun', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            dark: '#0F172A',   /* Slate 900 */
                            primary: '#1E40AF', /* Blue 800 */
                            gold: '#D97706',    /* Amber 600 */
                            goldlight: '#FCD34D', /* Amber 300 */
                            bg: '#F8FAFC'      /* Slate 50 */
                        }
                    },
                    boxShadow: {
                        'soft': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                        'glow': '0 0 15px rgba(217, 119, 6, 0.3)'
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F8FAFC;
            color: #334155;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* 3D Coin CSS */
        .coin-container {
            width: 160px;
            height: 160px;
            perspective: 1000px;
            margin: 0 auto;
        }

        .coin {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            /* Metallic Gold Look */
            background: radial-gradient(ellipse at center, #FCD34D 0%, #D97706 100%);
            box-shadow: 
                inset 0 0 0 2px rgba(255,255,255,0.5),
                inset 0 0 0 6px #B45309, /* Darker gold rim */
                0 10px 20px rgba(0,0,0,0.2);
            border: 2px solid #92400E;
        }

        .heads {
            transform: rotateY(0deg);
            z-index: 2;
        }

        .tails {
            transform: rotateY(180deg);
        }

        /* Metallic Shine Overlay */
        .shine {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 40%, rgba(255,255,255,0) 60%, rgba(255,255,255,0.3) 100%);
            pointer-events: none;
        }

        /* Inner Ring Decoration */
        .inner-ring {
            width: 85%;
            height: 85%;
            border: 1px dashed rgba(146, 64, 14, 0.5);
            border-radius: 50%;
            position: absolute;
        }

        .btn-action:active {
            transform: translateY(1px);
            box-shadow: none;
        }
    </style>
</head>
<body class="items-center justify-center p-6">

    <!-- Navbar / Header (Formal look) -->
    <nav class="absolute top-0 left-0 w-full p-6 flex justify-between items-center text-slate-500 text-sm">
        <div class="font-semibold tracking-wide uppercase">Randomizer Tool</div>
        <div>v1.0</div>
    </nav>

    <!-- Main Card -->
    <div class="bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-md p-10 text-center relative overflow-hidden mt-10">
        
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-blue-400"></div>

        <!-- Header -->
        <h1 class="text-2xl font-bold text-slate-800 mb-2">เสี่ยงทายหัวก้อย</h1>
        <p class="text-slate-500 mb-10 text-sm font-light">กดปุ่มด้านล่างเพื่อทำการสุ่มผลลัพธ์</p>

        <!-- The Coin -->
        <div class="coin-container mb-12">
            <div class="coin" id="coin">
                <!-- Heads Side (H) -->
                <div class="coin-face heads">
                    <div class="shine"></div>
                    <div class="inner-ring"></div>
                    <div class="flex flex-col items-center justify-center h-full z-10">
                        <span class="text-6xl font-serif font-bold text-amber-900 drop-shadow-sm mt-[-5px]">H</span>
                        <span class="text-xs font-bold text-amber-800 uppercase tracking-widest mt-1">Heads</span>
                        <span class="text-[10px] text-amber-800 mt-1 font-semibold">หัว</span>
                    </div>
                </div>

                <!-- Tails Side (T) -->
                <div class="coin-face tails">
                    <div class="shine"></div>
                    <div class="inner-ring"></div>
                    <div class="flex flex-col items-center justify-center h-full z-10">
                        <span class="text-6xl font-serif font-bold text-amber-900 drop-shadow-sm mt-[-5px]">T</span>
                        <span class="text-xs font-bold text-amber-800 uppercase tracking-widest mt-1">Tails</span>
                         <span class="text-[10px] text-amber-800 mt-1 font-semibold">ก้อย</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Result Section -->
        <div class="mb-8 h-12 flex items-center justify-center">
            <div id="result-area" class="opacity-0 transition-all duration-500 transform translate-y-2">
                <span class="text-sm text-slate-400 uppercase tracking-wide mr-2">ผลลัพธ์:</span>
                <span id="result-text" class="text-2xl font-bold text-blue-900">...</span>
            </div>
        </div>

        <!-- Control Area -->
        <div class="border-t border-slate-100 pt-8">
            <button id="flip-btn" class="btn-action w-full bg-slate-800 hover:bg-slate-700 text-white font-medium py-3 px-6 rounded-lg shadow-soft transition-colors duration-200 flex items-center justify-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
                โยนเหรียญ
            </button>
            <p class="text-xs text-slate-400 mt-4">ระบบสุ่มด้วยอัลกอริทึมมาตรฐาน (Math.random)</p>
        </div>

    </div>

    <script>
        const coin = document.getElementById('coin');
        const flipBtn = document.getElementById('flip-btn');
        const resultArea = document.getElementById('result-area');
        const resultText = document.getElementById('result-text');

        let currentRotation = 0;
        let isFlipping = false;

        // Formal sound effect (lower pitch, shorter)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playFlipSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.frequency.setValueAtTime(200, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.05);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.05);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.05);
        }

        function playResultSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(500, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        }

        flipBtn.addEventListener('click', () => {
            if (isFlipping) return;
            isFlipping = true;
            
            // Reset UI
            resultArea.classList.remove('opacity-100', 'translate-y-0');
            resultArea.classList.add('opacity-0', 'translate-y-2');
            
            flipBtn.disabled = true;
            flipBtn.classList.add('opacity-70', 'cursor-wait');
            flipBtn.innerHTML = 'กำลังประมวลผล...';

            const randomResult = Math.floor(Math.random() * 2); // 0 = Heads, 1 = Tails
            const extraSpins = 5; 
            
            // Calculate rotation logic
            let nextRotation = currentRotation + 1800;
            const isNextEven = (nextRotation / 180) % 2 === 0;
            
            if (randomResult === 0) { // Heads (Even 180s)
                if (!isNextEven) nextRotation += 180;
            } else { // Tails (Odd 180s)
                if (isNextEven) nextRotation += 180;
            }
            
            currentRotation = nextRotation;
            coin.style.transform = `rotateY(${currentRotation}deg)`;

            playFlipSound();

            setTimeout(() => {
                isFlipping = false;
                flipBtn.disabled = false;
                flipBtn.classList.remove('opacity-70', 'cursor-wait');
                flipBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-300 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg> ลองอีกครั้ง`;
                
                resultText.innerText = randomResult === 0 ? "หัว (Heads)" : "ก้อย (Tails)";
                
                resultArea.classList.remove('opacity-0', 'translate-y-2');
                resultArea.classList.add('opacity-100', 'translate-y-0');
                
                playResultSound();
            }, 3000);
        });
    </script>
</body>
</html>
